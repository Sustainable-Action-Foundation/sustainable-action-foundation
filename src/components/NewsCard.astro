---
import { options } from "@options"

interface Props {
	article: Article,
}

const { article } = Astro.props;


---

<article>
    <a href={`/nyheter/${article.id}`} class="flex flex-direction-column"> 
        {article.banner ? (
            <img src={`https://sustainable-action-foundation.pockethost.io/api/files/${article.collectionId}/${article.id}/${article.banner}`}  alt="" height="176" />
        ) : (
            <img src='/images/image.jpg' alt="" height="176" />
        )}
        <section class="padding-75 flex flex-direction-column flex-grow-100">
            <h2 class="margin-0" style="text-align: center;">{article.title}</h2>
            <time datetime={article.published_date.toString()} class="block" style="text-align: center; color: gray; font-size: .9rem;">
                {new Date(article.published_date).toLocaleDateString('sv-SE', options)}
            </time>
            <div class="margin-top-100">{article.preview}</div>
            <address class="flex align-items-flex-end flex-grow-100 margin-top-75" style="font-size: .75rem; color: gray;">
                Ansvarig utgivare: {article.author}
            </address>
        </section>
    </a>
</article>

<style>

    article {
        box-shadow: 0 0 .5rem -.25rem gray;
        transition: box-shadow .2s ease;
    }

    article:has(a:hover) {
        box-shadow: 0 0 .5rem -.25rem black;
    } 

    a {
        height: 100%;
        text-decoration: none;
        color: black;
    }
    
    img {
        border-radius: 2px;
        object-fit: cover;
        overflow-clip-margin: unset;
        width: 100%;
    }

</style>
